# M-03.02.01 Implementation Tracking

**Milestone:** M-03.02.01 ‚Äî Simulation Run Orchestration  
**Status:** üìã Not Started  
**Branch:** `time-travel-m3`  
**Assignee:** [TBD]

---

## Quick Links

- Milestone Document: docs/milestones/M-03.02.01.md
- Roadmap: docs/architecture/time-travel/time-travel-planning-roadmap.md
- Planning Decisions: docs/architecture/time-travel/time-travel-planning-decisions.md
- Simulation Architecture: docs/architecture/time-travel/sim/sim-architecture-overview.md
- Development Approach: TDD (Red ‚Üí Green ‚Üí Refactor) for every change

---

## Current Status

### Overall Progress
- [ ] Phase 1: Service Layer Refactor (0/3 tasks)
- [ ] Phase 2: API & CLI Integration (0/3 tasks)
- [ ] Phase 3: Tests, Observability, Documentation (0/4 tasks)

### Test Status
- Unit Tests: 0 / planned
- Integration Tests: 0 / planned
- Golden Tests: 0 / planned
- CI Build: `dotnet build FlowTime.sln`

---

## Progress Log

### 2025-10-18 ‚Äî Planning

- [x] Drafted milestone spec `M-03.02.01.md` outlining simulation-mode orchestration scope.
- [x] Created tracking document; no implementation work started.
- [ ] Backend branch kickoff (pending).
- [ ] Re-affirm TDD workflow before each task (tests first, then implementation, then refactor).

---

## Phase Breakdown

### Phase 1: Service Layer Refactor

Goal: Extend `RunOrchestrationService` to support simulation mode without telemetry dependencies.

Checklist:
- [ ] Mode branching implemented (simulation vs telemetry).
- [ ] Synthetic artifact generation (run.json, manifest, index).
- [ ] Simulation validation/warning semantics applied.

Status: ‚è≥ Not Started

### Phase 2: API & CLI Integration

Goal: Wire simulation orchestration into REST API and CLI.

Checklist:
- [ ] `POST /v1/runs` simulation path returns metadata envelope.
- [ ] Response includes artifact presence flags and `canReplay`.
- [ ] CLI (`flowtime run --mode simulation`) reuses orchestration service.

Status: ‚è≥ Not Started

### Phase 3: Tests, Observability, Documentation

Goal: Ensure coverage, instrumentation, and docs for simulation runs.

Checklist:
- [ ] Unit & integration tests implemented and passing.
- [ ] Golden snapshots captured for API responses.
- [ ] Structured logs/metrics verified in simulation mode.
- [ ] Documentation updates (`.http` samples, operator guide, release notes).

Status: ‚è≥ Not Started

---

## Risks & Mitigations

- **Shared artifacts for telemetry vs simulation** ‚Äî ensure file writers handle both paths consistently. Mitigation: unit tests on artifact generation.
- **Validation severity divergence** ‚Äî simulation must fail fast; telemetry warns. Mitigation: tests covering both modes.
- **CLI/API drift** ‚Äî reuse orchestration service; integration tests for CLI parity.

---

## Next Steps

1. Kick off backend feature branch for simulation orchestration.
2. Implement Phase 1 tasks; update this tracker with progress.
3. Coordinate with UI team once simulation runs succeed to unblock UI-M-03.12.

# M-03.02 Implementation Tracking

**Milestone:** M-03.02 â€” TelemetryLoader + Templates  
**Started:** TBD  
**Status:** ðŸ“‹ Planned  
**Branch:** `time-travel-m3`  
**Assignee:** Codex (AI)

---

## Quick Links

- **Milestone Document:** [`docs/milestones/M-03.02.md`](../M-03.02.md)
- **Roadmap Context:** [`docs/architecture/time-travel/time-travel-planning-roadmap.md`](../../architecture/time-travel/time-travel-planning-roadmap.md)
- **Canonical Artifacts:** [`docs/releases/M-03.01.md`](../../releases/M-03.01.md)
- **Template Guide:** [`docs/templates/README.md`](../../templates/README.md)
- **Telemetry Capture Guide:** [`docs/operations/telemetry-capture-guide.md`](../../operations/telemetry-capture-guide.md)

---

## Current Status

### Overall Progress
- [ ] Phase 1: Telemetry Capture Foundations
- [ ] Phase 2: Sim Template Integration
- [ ] Phase 3: End-to-End Validation & Docs

### Test Status
- **Unit Tests:** Pending
- **Integration Tests:** Pending
- **Golden Tests:** Pending

---

## Progress Log

### Kickoff Session (Planned)

**Preparation:**
- [ ] Review M-03.02 milestone doc and roadmap dependencies.
- [ ] Audit existing canonical run artifacts to identify capture candidates.
- [ ] Confirm canonical writer outputs from M-03.01 to mirror manifest layout.
- [ ] Inventory FlowTime-Sim `/templates/{id}/generate` usage patterns for orchestration.

**Next Steps:**
- [ ] Draft capture workflow outline (inputs, outputs, gap injection options).
- [ ] Establish Sim integration plan (service URL, CLI path, auth).
- [ ] Draft integration test harness for capture â†’ Sim â†’ `/state`.

---

## Phase 1: Telemetry Capture Foundations

**Goal:** Build the capture pipeline that converts deterministic run outputs into telemetry-mode bundles.

**Tasks & Checklist:**
- [ ] Implement `flowtime telemetry capture` CLI with dry-run support.
- [ ] Add gap/warning injection (zero-fill, NaN, partial data) with structured codes.
- [ ] Generate `manifest.json` from captured bundles with provenance and checksum validation.
- [ ] Record golden capture bundles for order-system, microservices, http-service runs.
- [ ] Document capture workflow and gap configuration in `docs/operations/telemetry-capture-guide.md`.
- [ ] Note future migration path where capture becomes a regression aid once live telemetry loaders (ADX/catalog) are available.

---

## Phase 2: Sim Template Integration

**Goal:** Orchestrate FlowTime-Sim template generation using captured telemetry bundles while keeping ownership in Sim.

**Tasks & Checklist:**
- [ ] Create scripts/CLI helpers that call Sim `/templates/{id}/generate` (or CLI) with parameter payloads referencing captured bundles.
- [ ] Validate template parameter mappings (scalar primitives and arrays) against Sim schema.
- [ ] Pipe Sim-generated models through `RunArtifactWriter` to emit canonical bundles.
- [ ] Update `docs/templates/README.md` with parameter mapping tables and Sim integration guidance.
- [ ] Add provenance alignment tests ensuring template + capture metadata match across artifacts.

---

## Phase 3: End-to-End Validation & Docs

**Goal:** Validate the capture â†’ Sim â†’ `/state` workflow and capture operator runbooks.

**Tasks & Checklist:**
- [ ] Implement integration tests covering capture â†’ Sim â†’ `RunArtifactWriter` â†’ `StateQueryService`.
- [ ] Capture golden `/state` and `/state_window` responses using captured telemetry bundles.
- [ ] Add structured log assertions for capture pipeline + `/state` execution path.
- [ ] Publish workflow + troubleshooting guide, including UI orchestration notes.
- [ ] Record observability and warning interpretation guidance in milestone and tracking docs.
